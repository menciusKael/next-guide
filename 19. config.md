##Preface

This article introduces three main contents: \* _ environment variables _ _, _ _ path aliases _ _, and _ _ src directory _ \*, mainly focusing on the use of environment variables. Next.js provides a more powerful and convenient way to use environment variables, let's take a look.

## 1. environment variable

###1.1 Concept Introduction

The so-called environment variables refer to [ Baike's explanation](https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E7%258E%25AF%25E5%25A2%2583%25E5%258F%2598%25E9%2587%258F%2F1730949 "https://baike.baidu.com/item/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/1730949")：

> Environment variables generally refer to some parameters used in the operating system to specify the operating environment, such as temporary folder location and system folder location.
>
> An environment variable is an object with a specific name in an operating system that contains information that one or more applications will use. For example, in the path environment variable of Windows and DOS operating systems, when the system is required to run a program without telling it the complete path where the program is located, in addition to searching for the program in the current directory, the system should also search for the path specified in the path. Users can better run processes by setting environment variables.

Simply put, if we imagine an operating system as a language, such as JavaScript, where various programs correspond to declared functions, and environment variables correspond to global variables in JavaScript. These variables can be used by various functions (programs).

####Related commands

Our common 'PATH' is just one of the environment variables. Taking the MacOS system as an example (the following commands are all in MacOS and may differ in Windows), we can enter 'printenv' on the command line to view all environment variables:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-bash code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">printenv</span>
</code></pre>

The output result is as follows:

![There are still many, so I won't describe them one by one](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc1710b7fbfd4cfe89e208529c99d649~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=782&h=250&s=43040&e=png&b=0a0a0a)

It can be seen that the naming of environment variables is generally all capitalized.

If you want to view a specific environment variable, you can use 'printenv' or 'echo':

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-bash code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// way 1</span>
<span class="code-block-extension-codeLine" data-line-num="2">printenv PATH</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">// way 2</span>
<span class="code-block-extension-codeLine" data-line-num="5">echo $PATH</span>
</code></pre>

If you want to add or modify an environment variable, you can use the 'export' command:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-bash code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// 1. config</span>
<span class="code-block-extension-codeLine" data-line-num="2">export YAYUCUSTOM=yayu</span>
<span class="code-block-extension-codeLine" data-line-num="3">// 2. prite</span>
<span class="code-block-extension-codeLine" data-line-num="4">echo $YAYUCUSTOM</span>
</code></pre>

However, using this method has a temporary effect and will only take effect during the current login. Closing the command line and restarting it will be ineffective, but sometimes this is enough. For example, we see this configuration in 'package. json':

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">&#34;scripts&#34;: {</span>
<span class="code-block-extension-codeLine" data-line-num="2">    &#34;dev&#34;: &#34;export NODE_ENV=development &amp;&amp; node index.js&#34;,</span>
<span class="code-block-extension-codeLine" data-line-num="3">    &#34;prod&#34;: &#34;export NODE_ENV=production &amp;&amp; node index.js&#34;</span>
<span class="code-block-extension-codeLine" data-line-num="4">}</span>
</code></pre>

`You can use 'process. env' in index. js NODE-ENV ` Get the value of the set 'NODE-ENV':

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// The printed results vary depending on the set values</span>
<span class="code-block-extension-codeLine" data-line-num="2">console.log(process.env.NODE_ENV)</span>
</code></pre>

How to modify a certain environment variable for a long time? This is a bit complicated, as there are many files that can modify environment variables, which may vary depending on the system and its version. Taking Mac's bash as an example, the order of files is:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">/etc/profile</span>
<span class="code-block-extension-codeLine" data-line-num="2">/etc/paths </span>
<span class="code-block-extension-codeLine" data-line-num="3">/etc/paths.d/</span>
<span class="code-block-extension-codeLine" data-line-num="4">~/.bash_profile </span>
<span class="code-block-extension-codeLine" data-line-num="5">~/.bash_login</span>
<span class="code-block-extension-codeLine" data-line-num="6">~/.profile</span>
<span class="code-block-extension-codeLine" data-line-num="7">~/.bashrc</span>
</code></pre>

Among them, directories starting with '/etc' are system level environment variable definitions, while others are user level environment variable definitions. Generally speaking, using 'bash' suggests modifying '~/. bash_profile' and using 'zsh' suggests modifying '~/. zshrc'.

Mac uses' zsh 'or' bash 'as the command-line interpreter for logging in to Shell and interactive Shell. Starting from macOS Catalina, Mac uses' zsh 'as the default login shell and interactive shell` Bash is the default shell in macOS Mojave and earlier versions.

Using 'bash':

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-bash code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// 1. edit file</span>
<span class="code-block-extension-codeLine" data-line-num="2">vim ~/.bash_profile</span>
<span class="code-block-extension-codeLine" data-line-num="3">// 2. add file</span>
<span class="code-block-extension-codeLine" data-line-num="4">export YAYU_CUSOTM=yayu</span>
<span class="code-block-extension-codeLine" data-line-num="5">// 3. Use the wq command to exit the save and execute to make it effective</span>
<span class="code-block-extension-codeLine" data-line-num="6">source  ~/.bash_profile</span>
<span class="code-block-extension-codeLine" data-line-num="7">// 4. View effective</span>
<span class="code-block-extension-codeLine" data-line-num="8">echo $YAYU_CUSOTM</span>
</code></pre>

use `zsh`：

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-bash code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// 1. edit file</span>
<span class="code-block-extension-codeLine" data-line-num="2">vim  ~/.zshrc</span>
<span class="code-block-extension-codeLine" data-line-num="3">// 2. add content </span>
<span class="code-block-extension-codeLine" data-line-num="4">export YAYU_CUSOTM=yayu</span>
<span class="code-block-extension-codeLine" data-line-num="5">// 3. Use the wq command to exit the save and execute it to take effect</span>
<span class="code-block-extension-codeLine" data-line-num="6">source  ~/.zshrc</span>
<span class="code-block-extension-codeLine" data-line-num="7">// 4. look action</span>
<span class="code-block-extension-codeLine" data-line-num="8">echo $YAYU_CUSOTM</span>
</code></pre>

If you encounter a problem with the shell you are using, which is valid at that time and will fail after restarting the terminal, it may be due to an issue with the shell you are using. Check the current shell you are using:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-bash code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">echo $SHELL</span>
</code></pre>

Switch to 'zsh' or 'bash' (restart the terminal after executing the command):

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-bash code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// switch zsh</span>
<span class="code-block-extension-codeLine" data-line-num="2">chsh -s /bin/zsh</span>
<span class="code-block-extension-codeLine" data-line-num="3">// switch bash</span>
<span class="code-block-extension-codeLine" data-line-num="4">chsh -s /bin/bash</span>
</code></pre>

#### process.env

Nodejs provides the 'process. env' API to return objects containing the user environment. Simply put, this is a method provided by Nodejs to retrieve environment variables from a node. An example of this object is as follows:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">{</span>
<span class="code-block-extension-codeLine" data-line-num="2">  TERM: &#39;xterm-256color&#39;,</span>
<span class="code-block-extension-codeLine" data-line-num="3">  SHELL: &#39;/usr/local/bin/bash&#39;,</span>
<span class="code-block-extension-codeLine" data-line-num="4">  USER: &#39;maciej&#39;,</span>
<span class="code-block-extension-codeLine" data-line-num="5">  PATH: &#39;~/.bin/:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin&#39;,</span>
<span class="code-block-extension-codeLine" data-line-num="6">  PWD: &#39;/Users/maciej&#39;,</span>
<span class="code-block-extension-codeLine" data-line-num="7">  EDITOR: &#39;vim&#39;,</span>
<span class="code-block-extension-codeLine" data-line-num="8">  SHLVL: &#39;1&#39;,</span>
<span class="code-block-extension-codeLine" data-line-num="9">  HOME: &#39;/Users/maciej&#39;,</span>
<span class="code-block-extension-codeLine" data-line-num="10">  LOGNAME: &#39;maciej&#39;,</span>
<span class="code-block-extension-codeLine" data-line-num="11">  _: &#39;/usr/local/bin/node&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="12">}</span></code></pre>
