##Preface

How to retrieve data in Next.js?

Next.js recommends using native fetch methods first, as Next.js extends native fetch methods by adding caching and updating cache (revalidation) mechanisms.

The advantage of doing this is that it can automatically reuse request data and improve performance. The downside is that if you are not familiar with it, there are often some inexplicable and wonderful situations that arise

Let's take a look at how to use it specifically.

##1 Using fetch on the server

###1.1 Basic Usage

Next.js extends the native [fetch Web API](https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FFetch_API "https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API")ï¼ŒCaching and revalidating behaviors can be configured for each request on the \* \* server.

You can use fetch with the syntax of 'async'/'await' in \* _ server-side components, routing handlers, and Server Actions _ \*.

For example:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div>></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// app/page.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">async function getData() {</span>
<span class="code-block-extension-codeLine" data-line-num="3">  const res = await fetch(&#39;https://jsonplaceholder.typicode.com/todos&#39;)</span>
<span class="code-block-extension-codeLine" data-line-num="4">  if (!res.ok) {</span>
<span class="code-block-extension-codeLine" data-line-num="5">    // Processed by the latest error. js</span>
<span class="code-block-extension-codeLine" data-line-num="6">    throw new Error(&#39;Failed to fetch data&#39;)</span>
<span class="code-block-extension-codeLine" data-line-num="7">  }</span>
<span class="code-block-extension-codeLine" data-line-num="8">  return res.json()</span>
<span class="code-block-extension-codeLine" data-line-num="9">}</span>
<span class="code-block-extension-codeLine" data-line-num="10"></span>
<span class="code-block-extension-codeLine" data-line-num="11">export default async function Page() {</span>
<span class="code-block-extension-codeLine" data-line-num="12">  const data = await getData()</span>
<span class="code-block-extension-codeLine" data-line-num="13">  return <span class="xml">&lt;main&gt;{JSON.stringify(data)}&lt;/main&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="14">}</span></code></pre>
