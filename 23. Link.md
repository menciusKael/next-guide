## 前言

Next.js has built-in `<Link>` and `<Script>` components. The `<Link><span> </span>` component implements background pre-fetching of resources, making page transitions faster and smoother. The `<Script>` component allows you to control the loading and execution of third-party scripts, etc. This article will introduce the usage and related parameters of these two components in detail.

## `<Link>`

### 1. introduce

The Link component is a React component that extends the HTML `<a>` element and provides navigation between preloaded and client-side routes. It is the main method of Next.js route navigation. The following are examples of usage:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// app/page.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">import Link from &#39;next/link&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">export default function Page() {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  return <span class="xml">&lt;Link href=&#34;/dashboard&#34;&gt;Dashboard&lt;/Link&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="6">}</span>
</code></pre>

### 2. Props

| **Prop**                                                                                                                                                                                                   | **example**       | **type**         | **required** |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------- | ---------------- | ------------ |
| [href](https://link.juejin.cn/?target=https%3A%2F%2Fnextjs.org%2Fdocs%2Fapp%2Fapi-reference%2Fcomponents%2Flink%23href-required "https://nextjs.org/docs/app/api-reference/components/link#href-required") | href="/dashboard" | String or Object | yes          |
| [replace](https://link.juejin.cn/?target=https%3A%2F%2Fnextjs.org%2Fdocs%2Fapp%2Fapi-reference%2Fcomponents%2Flink%23replace "https://nextjs.org/docs/app/api-reference/components/link#replace")          | replace={false}   | Boolean          | -            |
| [scroll](https://link.juejin.cn/?target=https%3A%2F%2Fnextjs.org%2Fdocs%2Fapp%2Fapi-reference%2Fcomponents%2Flink%23scroll "https://nextjs.org/docs/app/api-reference/components/link#scroll")             | scroll={false}    | Boolean          | -            |
| [prefetch](https://link.juejin.cn/?target=https%3A%2F%2Fnextjs.org%2Fdocs%2Fapp%2Fapi-reference%2Fcomponents%2Flink%23prefetch "https://nextjs.org/docs/app/api-reference/components/link#prefetch")       | prefetch={false}  | Boolean          | -            |

### 3. href（required）

Navigation jump path or URL:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-jsx code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">&lt;Link href=&#34;/dashboard&#34;&gt;Dashboard&lt;/Link&gt;</span>
</code></pre>

`href`也支持传入一个对象：

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-jsx code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">//  /about?name=test</span>
<span class="code-block-extension-codeLine" data-line-num="2">&lt;Link</span>
<span class="code-block-extension-codeLine" data-line-num="3">  href={{</span>
<span class="code-block-extension-codeLine" data-line-num="4">    pathname: &#39;/about&#39;,</span>
<span class="code-block-extension-codeLine" data-line-num="5">    query: { name: &#39;test&#39; },</span>
<span class="code-block-extension-codeLine" data-line-num="6">  }}</span>
<span class="code-block-extension-codeLine" data-line-num="7">  &gt;</span>
<span class="code-block-extension-codeLine" data-line-num="8">  About</span>
<span class="code-block-extension-codeLine" data-line-num="9">&lt;/Link&gt;</span>
</code></pre>

Then you may be curious, in addition to `pathname` and `query`, what other object parameters are supported? Let's look at the [source code of the `<Link>` component](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Fblob%2Fcanary%2Fpackages%2Fnext%2Fsrc%2Fclient%2Flink.tsx "https://github.com/vercel/next.js/blob/canary/packages/next/src/client/link.tsx")就知道了：

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// next.js/packages/next/src/client /link.tsx</span>
<span class="code-block-extension-codeLine" data-line-num="2">import type { UrlObject } from &#39;url&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3">type Url = string | UrlObject</span>
<span class="code-block-extension-codeLine" data-line-num="4">type InternalLinkProps = {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  href: Url</span>
<span class="code-block-extension-codeLine" data-line-num="6">}</span>
</code></pre>

It can be seen that the object comes from [url NPM ](https://link.juejin.cn/?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Furl "https://www.npmjs.com/package/url")，Refer to the url package, the properties of the object are (taking `'http://user:pass@host.com:8080/p/a/t/h?query=string#hash'` as an example):

- **href** ：`'<http://user:pass@host.com:8080/p/a/t/h?query=string#hash>'`
- **protocol** ：`'http:'`
- **host** : `'host.com:8080'`
- **auth** : `'user:pass'`
- **hostname** : `'host.com'`
- **port** : `'8080'`
- **pathname** : `'/p/a/t/h'`
- **search** : `'?query=string'`
- **path** : `'/p/a/t/h?query=string'`
- **query** : `'query=string' or {'query':'string'}`
- **hash** : `'#hash'`

### 4. replace

The default value is `false`. When the value is `true`, `next/link` will replace the current browser history instead of adding a new URL to the browser history item.（[history.replaceState 方法](https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FHistory_API%23replacestate_%25E6%2596%25B9%25E6%25B3%2595 "https://developer.mozilla.org/zh-CN/docs/Web/API/History_API#replacestate_%E6%96%B9%E6%B3%95")）。

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// app/page.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">import Link from &#39;next/link&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">export default function Page() {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="xml">&lt;Link href=&#34;/dashboard&#34; replace&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">      Dashboard</span>
<span class="code-block-extension-codeLine" data-line-num="8">    &lt;/Link&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="9">  )</span>
<span class="code-block-extension-codeLine" data-line-num="10">}</span>
</code></pre>

### 5. scroll

The default value is `true`. The default behavior of the `<Link>` component is to scroll to the top of a new navigation or maintain the previous scroll position in forward and backward navigation. When the value is `false`, `next/link` will not scroll to the top of the new page after navigation (continue to maintain the position of the previous route).

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// app/page.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">import Link from &#39;next/link&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">export default function Page() {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="xml">&lt;Link href=&#34;/dashboard&#34; scroll={false}&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">      Dashboard</span>
<span class="code-block-extension-codeLine" data-line-num="8">    &lt;/Link&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="9">  )</span>
<span class="code-block-extension-codeLine" data-line-num="10">}</span>
</code></pre>

### 6. prefetch

Defaults to `true`. When `true`, `next/link` will prefetch the page in the background. This can significantly improve client navigation performance. Any `<Link />` in the viewport (either on initial load or via scroll) will be prefetched. But beware: prefetching is only enabled in production environments.

You can disable this feature by passing `prefetch={false}`.

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// app/page.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">import Link from &#39;next/link&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">export default function Page() {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="xml">&lt;Link href=&#34;/dashboard&#34; prefetch={false}&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">      Dashboard</span>
<span class="code-block-extension-codeLine" data-line-num="8">    &lt;/Link&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="9">  )</span>
<span class="code-block-extension-codeLine" data-line-num="10">}</span>
</code></pre>

### 7. Other props

Other props are automatically forwarded to the underlying `<a>` element, such as `target="_blank"`, `className`.

### 8. Examples

#### 8.1. Linking to dynamic routes

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// app/blog/page.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">import Link from &#39;next/link&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">function Page({ posts }) {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="xml">&lt;ul&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">      {posts.map((post) =&gt; (</span>
<span class="code-block-extension-codeLine" data-line-num="8">        &lt;li key={post.id}&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="9">          &lt;Link href={`/blog/${post.slug}`}&gt;{post.title}&lt;/Link&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="10">        &lt;/li&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="11">      ))}</span>
<span class="code-block-extension-codeLine" data-line-num="12">    &lt;/ul&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="13">  )</span>
<span class="code-block-extension-codeLine" data-line-num="14">}</span>
</code></pre>

#### 8.2 Middleware

We usually use middleware to implement authentication and other functions, and then redirect users to other pages. In order for the component to get the redirected link when there is middleware, you need to tell Next.js the URL for display and the URL for pre-fetching.

For example, when you visit the `/dashboard` route, you need to authenticate. If the authentication passes, jump to the `/auth/dashboard` route. If not, jump to the publicly accessible `/public/dashboard` route. The implementation code is as follows:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// middleware.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">export function middleware(req) {</span>
<span class="code-block-extension-codeLine" data-line-num="3">  const nextUrl = req.nextUrl</span>
<span class="code-block-extension-codeLine" data-line-num="4">  if (nextUrl.pathname === &#39;/dashboard&#39;) {</span>
<span class="code-block-extension-codeLine" data-line-num="5">    if (req.cookies.authToken) {</span>
<span class="code-block-extension-codeLine" data-line-num="6">      return NextResponse.rewrite(new URL(&#39;/auth/dashboard&#39;, req.url))</span>
<span class="code-block-extension-codeLine" data-line-num="7">    } else {</span>
<span class="code-block-extension-codeLine" data-line-num="8">      return NextResponse.rewrite(new URL(&#39;/public/dashboard&#39;, req.url))</span>
<span class="code-block-extension-codeLine" data-line-num="9">    }</span>
<span class="code-block-extension-codeLine" data-line-num="10">  }</span>
<span class="code-block-extension-codeLine" data-line-num="11">}</span>
</code></pre>

At this time, in order to let the `<Link />` component pre-fetch the correct address, you can write it like this:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">import Link from &#39;next/link&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="2">import useIsAuthed from &#39;./hooks/useIsAuthed&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">export default function Page() {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  const isAuthed = useIsAuthed()</span>
<span class="code-block-extension-codeLine" data-line-num="6">  const path = isAuthed ? &#39;/auth/dashboard&#39; : &#39;/dashboard&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="7">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="8">    <span class="xml">&lt;Link as=&#34;/dashboard&#34; href={path}&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="9">      Dashboard</span>
<span class="code-block-extension-codeLine" data-line-num="10">    &lt;/Link&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="11">  )</span>
<span class="code-block-extension-codeLine" data-line-num="12">}</span>
</code></pre>

Here we use the prop `as`, which is a legacy prop that was implemented earlier to work with dynamic routing. This is because when the jump dynamic routing function was implemented earlier, the code was not as straightforward as shown in the example in the previous section:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">const pids = [&#39;id1&#39;, &#39;id2&#39;, &#39;id3&#39;]</span>
<span class="code-block-extension-codeLine" data-line-num="2">{</span>
<span class="code-block-extension-codeLine" data-line-num="3">  pids.map((pid) =&gt; (</span>
<span class="code-block-extension-codeLine" data-line-num="4">    <span class="xml">&lt;Link href=&#34;/post/[pid]&#34; as={`/post/${pid}`}&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="5">      &lt;a&gt;Post {pid}&lt;/a&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="6">    &lt;/Link&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="7">  ))</span>
<span class="code-block-extension-codeLine" data-line-num="8">}</span>
</code></pre>

This is because in the early design, `href` was based on the file system path and could not be changed at runtime. The jump address could only be in the form of `"/post/[pid]"`, but in order to make the browser display the correct address, the `as` prop was added, which is the address displayed in the browser URL address bar.

Back to the example just now:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">  &lt;Link as=&#34;/dashboard&#34; href={path}&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="2">    Dashboard</span>
<span class="code-block-extension-codeLine" data-line-num="3">  &lt;/Link&gt;</span>
</code></pre>

Because prefetch is based on the `href` address, in order to prefetch to the correct address, `path` makes an isAuthed judgment. But the final jump address should be `/dashboard`, and then make a specific judgment in the middleware, so the `as` prop is used.

## `<Script>`

### 1. Introduction

Next.js built-in script component, used to control the loading and execution of third-party script files. The basic usage example is as follows:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// app/dashboard/page.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">import Script from &#39;next/script&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">export default function Dashboard() {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="xml">&lt;&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">      &lt;Script src=&#34;https://example.com/script.js&#34; /&gt;<span class="xml"></span></span>
<span class="code-block-extension-codeLine" data-line-num="8">    &lt;/&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="9">  )</span>
<span class="code-block-extension-codeLine" data-line-num="10">}</span>
</code></pre>

This is used in page.js, and can also be used in layout.js to load a script for multiple routes:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// app/dashboard/layout.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">import Script from &#39;next/script&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">export default function DashboardLayout({ children }) {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="xml">&lt;&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">      &lt;section&gt;{children}&lt;/section&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="8">      &lt;Script src=&#34;https://example.com/script.js&#34; /&gt;<span class="xml"></span></span>
<span class="code-block-extension-codeLine" data-line-num="9">    &lt;/&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="10">  )</span>
<span class="code-block-extension-codeLine" data-line-num="11">}</span>
</code></pre>

This way, when accessing a route like `dashboard/page.js` or a sub-route `dashboard/settings/page.js`, the script will be fetched. Next.js will ensure that the script is only loaded once, even if the user navigates between multiple routes in the same layout.

If you want all routes to load a script, you can unload it directly in the root layout:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// app/layout.js </span>
<span class="code-block-extension-codeLine" data-line-num="2">import Script from &#39;next/script&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">export default function RootLayout({ children }) {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="xml">&lt;html lang=&#34;en&#34;&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">      &lt;body&gt;{children}&lt;/body&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="8">      &lt;Script src=&#34;https://example.com/script.js&#34; /&gt;<span class="xml"></span></span>
<span class="code-block-extension-codeLine" data-line-num="9">    &lt;/html&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="10">  )</span>
<span class="code-block-extension-codeLine" data-line-num="11">}</span>
</code></pre>

Of course, considering performance issues, try to load third-party scripts in specific pages or layouts as much as possible.

### 2. Props

| **Prop**                                                                                                                                                                                                 | **example**                       | **type** | required                            |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------- | -------- | ----------------------------------- |
| [src](https://link.juejin.cn/?target=https%3A%2F%2Fnextjs.org%2Fdocs%2Fapp%2Fapi-reference%2Fcomponents%2Fscript%23src "https://nextjs.org/docs/app/api-reference/components/script#src")                | `src="http://example.com/script"` | String   | Required unless using inline script |
| [strategy](https://link.juejin.cn/?target=https%3A%2F%2Fnextjs.org%2Fdocs%2Fapp%2Fapi-reference%2Fcomponents%2Fscript%23strategy "https://nextjs.org/docs/app/api-reference/components/script#strategy") | `strategy="lazyOnload"`           | String   | -                                   |
| [onLoad](https://link.juejin.cn/?target=https%3A%2F%2Fnextjs.org%2Fdocs%2Fapp%2Fapi-reference%2Fcomponents%2Fscript%23onload "https://nextjs.org/docs/app/api-reference/components/script#onload")       | `onLoad={onLoadFunc}`             | Function | -                                   |
| [onReady](https://link.juejin.cn/?target=https%3A%2F%2Fnextjs.org%2Fdocs%2Fapp%2Fapi-reference%2Fcomponents%2Fscript%23onready "https://nextjs.org/docs/app/api-reference/components/script#onready")    | `onReady={onReadyFunc}`           | Function | -                                   |
| [onError](https://link.juejin.cn/?target=https%3A%2F%2Fnextjs.org%2Fdocs%2Fapp%2Fapi-reference%2Fcomponents%2Fscript%23onerror "https://nextjs.org/docs/app/api-reference/components/script#onerror")    | `onError={onErrorFunc}`           | Function | -                                   |

### 3. src

External script address, string form, external absolute address or internal address. Unless inline script is used, this attribute must be passed.

The so-called inline script is just like the normal script tag we use. `<Script />` also supports writing JavaScript code directly in the component:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">&lt;Script id=&#34;show-banner&#34;&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="2">  {`document.getElementById(&#39;banner&#39;).classList.remove(&#39;hidden&#39;)`}</span>
<span class="code-block-extension-codeLine" data-line-num="3">&lt;/Script&gt;</span>
</code></pre>

Note that you must assign an id to your inline scripts to ensure Next.js can track and optimize your scripts.

Or use the `dangerouslySetInnerHTML` property:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">&lt;Script</span>
<span class="code-block-extension-codeLine" data-line-num="2">  id=&#34;show-banner&#34;</span>
<span class="code-block-extension-codeLine" data-line-num="3">  dangerouslySetInnerHTML={{</span>
<span class="code-block-extension-codeLine" data-line-num="4">    __html: `document.getElementById(&#39;banner&#39;).classList.remove(&#39;hidden&#39;)`,</span>
<span class="code-block-extension-codeLine" data-line-num="5">  }}</span>
<span class="code-block-extension-codeLine" data-line-num="6">/&gt;</span>
</code></pre>

### 4. strategy

There are four script loading strategies:

1. **beforeInteractive**: Loaded before interactivity, suitable for robot detection, cookie management, etc.
2. **afterInteractive**: Default value, loaded after interactivity, suitable for data statistics, etc.
3. **lazyOnload**: Loaded during browser idle time
4. **worker**: (experimental) loaded through web worker

`beforeInteractive`, as the name suggests, is loaded before interactivity. The `beforeInteractive` script must be placed in the root layout (`app/layout.tsx`) to load scripts required for the entire site. It is suitable for some key scripts that need to be obtained before the page is interactive. It will be injected into the `head` of the HTML document, no matter where you write it in the component:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// app/layout.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">import Script from &#39;next/script&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">export default function RootLayout({ children }) {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="xml">&lt;html lang=&#34;en&#34;&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">      &lt;body&gt;{children}&lt;/body&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="8">      &lt;Script</span>
<span class="code-block-extension-codeLine" data-line-num="9">        src=&#34;https://example.com/script.js&#34;</span>
<span class="code-block-extension-codeLine" data-line-num="10">        strategy=&#34;beforeInteractive&#34;</span>
<span class="code-block-extension-codeLine" data-line-num="11">      /&gt;<span class="xml"></span></span>
<span class="code-block-extension-codeLine" data-line-num="12">    &lt;/html&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="13">  )</span>
<span class="code-block-extension-codeLine" data-line-num="14">}</span>
</code></pre>

Although we write the Script component after the body tag, it is still injected into the head:

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/87a4d28110fe4b25b94fcbd7a8a17a0d~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1114&h=392&s=156886&e=png&b=282828)

`afterInteractive`, as the name implies, is loaded after the page is interactive (not necessarily fully interactive). This is the default loading strategy of the Script component and is suitable for scripts that need to be loaded as soon as possible. The `afterInteractive` script can be written in any page or layout, and will only be loaded and executed when the page is opened in the browser.

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// app/page.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">import Script from &#39;next/script&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">export default function Page() {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="xml">&lt;&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">      &lt;Script src=&#34;https://example.com/script.js&#34; strategy=&#34;afterInteractive&#34; /&gt;<span class="xml"></span></span>
<span class="code-block-extension-codeLine" data-line-num="8">    &lt;/&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="9">  )</span>
<span class="code-block-extension-codeLine" data-line-num="10">}</span>
</code></pre>

`lazyOnload`, injected into HTML client side when the browser is idle, and starts loading after all resources of the page are acquired. This strategy is used for background or low priority scripts that do not need to be loaded in advance. lazyOnload scripts can be written in any page or layout, and will only be loaded and executed when the page is opened in the browser.

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// app/page.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">import Script from &#39;next/script&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">export default function Page() {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="xml">&lt;&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">      &lt;Script src=&#34;https://example.com/script.js&#34; strategy=&#34;lazyOnload&#34; /&gt;<span class="xml"></span></span>
<span class="code-block-extension-codeLine" data-line-num="8">    &lt;/&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="9">  )</span>
<span class="code-block-extension-codeLine" data-line-num="10">}</span>
</code></pre>

`worker`, an experimental loading strategy, is currently unstable and cannot be used in the `app` directory, so please use it with caution. Scripts using this strategy will start a web worker thread to execute, ensuring that the main thread handles critical code. Behind it is the use of [Partytown](https://link.juejin.cn/?target=https%3A%2F%2Fpartytown.builder.io%2F "https://partytown.builder.io/") processing. Although this strategy can be used for any script, as an advanced usage, it is not guaranteed to support all third-party scripts.

To use the worker strategy, you need to enable it through the `nextScriptWorkers` configuration item of `next.config.js`:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// next.config.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">module.exports = {</span>
<span class="code-block-extension-codeLine" data-line-num="3">  experimental: {</span>
<span class="code-block-extension-codeLine" data-line-num="4">    nextScriptWorkers: true,</span>
<span class="code-block-extension-codeLine" data-line-num="5">  },</span>
<span class="code-block-extension-codeLine" data-line-num="6">}</span>
</code></pre>

Now when you run `npm run dev`, Next.js will prompt you to install Partytown:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">npm install @builder.io/partytown</span>
</code></pre>

Once set up, defining `strategy="worker"` will instantiate Partytown in your application and place the script in a web worker. However, the `worker` script is currently only available in the `pages/` directory:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// pages/home.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">import Script from &#39;next/script&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">export default function Home() {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="xml">&lt;&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">      &lt;Script src=&#34;https://example.com/script.js&#34; strategy=&#34;worker&#34; /&gt;<span class="xml"></span></span>
<span class="code-block-extension-codeLine" data-line-num="8">    &lt;/&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="9">  )</span>
<span class="code-block-extension-codeLine" data-line-num="10">}</span>
</code></pre>

### 5. onLoad

Some third-party scripts need to execute JavaScript code after the script is loaded to complete instantiation or call functions. If you use `afterInteractive` or `lazyOnload` as the loading strategy, you can use the `onLoad` property to execute code after loading:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">&#39;use client&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="2">// app/page.js</span>
<span class="code-block-extension-codeLine" data-line-num="3">import Script from &#39;next/script&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="4"></span>
<span class="code-block-extension-codeLine" data-line-num="5">export default function Page() {</span>
<span class="code-block-extension-codeLine" data-line-num="6">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="7">    <span class="xml">&lt;&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">      &lt;Script</span>
<span class="code-block-extension-codeLine" data-line-num="9">        src=&#34;https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.20/lodash.min.js&#34;</span>
<span class="code-block-extension-codeLine" data-line-num="10">        onLoad={() =&gt;<span class="javascript"> {</span></span>
<span class="code-block-extension-codeLine" data-line-num="11">          console.log(_.sample([1, 2, 3, 4]))</span>
<span class="code-block-extension-codeLine" data-line-num="12">        }}</span>
<span class="code-block-extension-codeLine" data-line-num="13">      /&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="14">    &lt;/&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="15">  )</span>
<span class="code-block-extension-codeLine" data-line-num="16">}</span>
</code></pre>

Note: `onLoad` cannot be used in server-side components, only in the client. Also, `onLoad` cannot be used with `beforeInteractive`, use `onReady` instead.

### 6. onReady

Some third-party scripts require the user to execute JavaScript code after the script is loaded and every time the component is mounted, such as map navigation. You can use the onLoad property to handle the first load, and use the onReady property to execute code every time the component is remounted:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">&#39;use client&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="2">// app/page.js </span>
<span class="code-block-extension-codeLine" data-line-num="3">import { useRef } from &#39;react&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="4">import Script from &#39;next/script&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="5"></span>
<span class="code-block-extension-codeLine" data-line-num="6">export default function Page() {</span>
<span class="code-block-extension-codeLine" data-line-num="7">  const mapRef = useRef()</span>
<span class="code-block-extension-codeLine" data-line-num="8"></span>
<span class="code-block-extension-codeLine" data-line-num="9">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="10">    <span class="xml">&lt;&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="11">      &lt;div ref={mapRef}&gt;&lt;/div&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="12">      &lt;Script</span>
<span class="code-block-extension-codeLine" data-line-num="13">        id=&#34;google-maps&#34;</span>
<span class="code-block-extension-codeLine" data-line-num="14">        src=&#34;https://maps.googleapis.com/maps/api/js&#34;</span>
<span class="code-block-extension-codeLine" data-line-num="15">        onReady={() =&gt;<span class="javascript"> {</span></span>
<span class="code-block-extension-codeLine" data-line-num="16">          new google.maps.Map(mapRef.current, {</span>
<span class="code-block-extension-codeLine" data-line-num="17">            center: { lat: -34.397, lng: 150.644 },</span>
<span class="code-block-extension-codeLine" data-line-num="18">            zoom: 8,</span>
<span class="code-block-extension-codeLine" data-line-num="19">          })</span>
<span class="code-block-extension-codeLine" data-line-num="20">        }}</span>
<span class="code-block-extension-codeLine" data-line-num="21">      /&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="22">    &lt;/&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="23">  )</span>
<span class="code-block-extension-codeLine" data-line-num="24">}</span>
</code></pre>

This example demonstrates how to re-instantiate Google Maps JS each time the component is mounted. Note: Like `onLoad`, `onReady` cannot be used in server-side components, only in the client.

### 7. onError

When the script fails to load, it is used to catch errors. At this time, you can use the onError property to handle it:

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">&#39;use client&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="2">// app/page.js</span>
<span class="code-block-extension-codeLine" data-line-num="3">import Script from &#39;next/script&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="4"></span>
<span class="code-block-extension-codeLine" data-line-num="5">export default function Page() {</span>
<span class="code-block-extension-codeLine" data-line-num="6">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="7">    <span class="xml">&lt;&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">      &lt;Script</span>
<span class="code-block-extension-codeLine" data-line-num="9">        src=&#34;https://example.com/script.js&#34;</span>
<span class="code-block-extension-codeLine" data-line-num="10">        onError={(e: Error) =&gt;<span class="javascript"> {</span></span>
<span class="code-block-extension-codeLine" data-line-num="11">          console.error(&#39;Script failed to load&#39;, e)</span>
<span class="code-block-extension-codeLine" data-line-num="12">        }}</span>
<span class="code-block-extension-codeLine" data-line-num="13">      /&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="14">    &lt;/&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="15">  )</span>
<span class="code-block-extension-codeLine" data-line-num="16">}</span>
</code></pre>

Note: `onError` cannot be used in server-side components, only in the client. Also, `onError` cannot be used with `beforeInteractive`.

### 8. Other props

The native `<script>` element has many DOM properties, and other props added to the Script component will be automatically forwarded to the underlying `<script>` element.

<pre><div class="code-block-extension-header"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"></div></div><code class="hljs language-javascript code-block-extension-codeShowNum"><span class="code-block-extension-codeLine" data-line-num="1">// app/page.js</span>
<span class="code-block-extension-codeLine" data-line-num="2">import Script from &#39;next/script&#39;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4">export default function Page() {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  return (</span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="xml">&lt;&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">      &lt;Script</span>
<span class="code-block-extension-codeLine" data-line-num="8">        src=&#34;https://example.com/script.js&#34;</span>
<span class="code-block-extension-codeLine" data-line-num="9">        id=&#34;example-script&#34;</span>
<span class="code-block-extension-codeLine" data-line-num="10">        nonce=&#34;XUENAJFW&#34;</span>
<span class="code-block-extension-codeLine" data-line-num="11">        data-test=&#34;script&#34;</span>
<span class="code-block-extension-codeLine" data-line-num="12">      /&gt;<span class="xml"></span></span>
<span class="code-block-extension-codeLine" data-line-num="13">    &lt;/&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="14">  )</span>
<span class="code-block-extension-codeLine" data-line-num="15">}</span></code></pre>
